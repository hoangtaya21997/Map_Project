<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Log Data Changes</title>
</head>
<body>

<div id="root" data="Initial Data"></div>

<script>
  // Lấy thẻ div
  const rootDiv = document.getElementById('root');

  // Khởi tạo giá trị ban đầu
  let currentData = rootDiv.getAttribute('data');

  // Hàm log data
  const logData = () => {
    console.log('New Data:', currentData);
  };

  // Tạo một MutationObserver để theo dõi sự thay đổi trong thuộc tính data
  const observer = new MutationObserver((mutationsList) => {
    for (const mutation of mutationsList) {
      if (mutation.type === 'attributes' && mutation.target === rootDiv && mutation.attributeName === 'data') {
        logData();
      }
    }
  });

  // Bắt đầu quan sát sự thay đổi
  observer.observe(rootDiv, { attributes: true, attributeFilter: ['data'] });

  // Thay đổi giá trị của thuộc tính data để kích hoạt logData lần đầu tiên
  rootDiv.setAttribute('data', 'Updated Data');
</script>

</body>
</html>